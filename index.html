<!doctype html>
<html lang="es">
<head>
   <link href="https://fonts.googleapis.com/css2?family=Allura&family=Cormorant+Garamond:wght@500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css2?family=Allura&family=Cormorant+Garamond:wght@500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Invitaci√≥n | Ra√∫l & Ana</title>

  <!-- Premium fonts (free) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Cormorant+Garamond:wght@500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

  <!-- Leaflet (mapa) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>

  <style>
    :root{
      --paper:#fff7f7;
      --ivory:#fbf0ee;
      --ink:#171717;
      --muted:rgba(23,23,23,.65);
      --muted2:rgba(23,23,23,.52);
      --gold1:#b07a5a; /* rose-gold */
      --gold2:#e3c2ad;
      --line:rgba(23,23,23,.08);
      --shadow: 0 28px 70px rgba(0,0,0,.14);
      --radius: 28px;
      --ease: cubic-bezier(.2,.8,.2,1);
    }

    *{box-sizing:border-box}
    html, body{height:100%}
    body{
      margin:0;
      color:var(--ink);
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background:
        radial-gradient(1200px 700px at 50% -10%, #ffffff 0%, var(--ivory) 52%, #f3ddd7 100%);
      overflow:hidden; /* IMPORTANT: no scroll global */
    }

    /* ========= APP SHELL ========= */
    .stage{
      height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 18px 14px;
    }
    .wrap{width:min(1040px, 100%);}

    .shell{
      background:
        url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20width%3D%27260%27%20height%3D%27260%27%20viewBox%3D%270%200%20260%20260%27%3E%3Cg%20fill%3D%27%23e9b7c4%27%20fill-opacity%3D%270.95%27%20stroke%3D%27%23b07a5a%27%20stroke-opacity%3D%270.20%27%20stroke-width%3D%271%27%20stroke-linejoin%3D%27round%27%3E%3Cpath%20d%3D%27M70%20170c-12-20%2022-32%2034-12c10-18%2044-6%2032%2014c-7%2012-20%2020-32%2030c-12-10-26-18-34-32z%27/%3E%3Cpath%20d%3D%27M120%20120c-9-15%2017-24%2026-9c8-14%2034-4%2025%2010c-6%209-15%2015-25%2024c-10-9-20-15-26-25z%27/%3E%3Cpath%20d%3D%27M160%2086c-7-12%2013-18%2019-7c6-11%2024-3%2018%208c-4%207-11%2011-18%2018c-7-7-14-11-19-19z%27/%3E%3Cpath%20d%3D%27M46%20184c10-18%2028-18%2038-2c-14%2010-26%2014-38%202z%27%20fill%3D%27%23bfe3c2%27%20fill-opacity%3D%270.45%27%20stroke%3D%27none%27/%3E%3Cpath%20d%3D%27M102%20142c10-16%2026-16%2034-1c-12%208-22%2012-34%201z%27%20fill%3D%27%23bfe3c2%27%20fill-opacity%3D%270.45%27%20stroke%3D%27none%27/%3E%3C/g%3E%3C/svg%3E") top -42px left -42px / 240px 240px no-repeat,
        url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20width%3D%27260%27%20height%3D%27260%27%20viewBox%3D%270%200%20260%20260%27%3E%3Cg%20fill%3D%27%23e9b7c4%27%20fill-opacity%3D%270.95%27%20stroke%3D%27%23b07a5a%27%20stroke-opacity%3D%270.20%27%20stroke-width%3D%271%27%20stroke-linejoin%3D%27round%27%3E%3Cpath%20d%3D%27M70%20170c-12-20%2022-32%2034-12c10-18%2044-6%2032%2014c-7%2012-20%2020-32%2030c-12-10-26-18-34-32z%27/%3E%3Cpath%20d%3D%27M120%20120c-9-15%2017-24%2026-9c8-14%2034-4%2025%2010c-6%209-15%2015-25%2024c-10-9-20-15-26-25z%27/%3E%3Cpath%20d%3D%27M160%2086c-7-12%2013-18%2019-7c6-11%2024-3%2018%208c-4%207-11%2011-18%2018c-7-7-14-11-19-19z%27/%3E%3Cpath%20d%3D%27M46%20184c10-18%2028-18%2038-2c-14%2010-26%2014-38%202z%27%20fill%3D%27%23bfe3c2%27%20fill-opacity%3D%270.45%27%20stroke%3D%27none%27/%3E%3Cpath%20d%3D%27M102%20142c10-16%2026-16%2034-1c-12%208-22%2012-34%201z%27%20fill%3D%27%23bfe3c2%27%20fill-opacity%3D%270.45%27%20stroke%3D%27none%27/%3E%3C/g%3E%3C/svg%3E") top -42px right -42px / 240px 240px no-repeat,
        url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20width%3D%27260%27%20height%3D%27260%27%20viewBox%3D%270%200%20260%20260%27%3E%3Cg%20fill%3D%27%23e9b7c4%27%20fill-opacity%3D%270.95%27%20stroke%3D%27%23b07a5a%27%20stroke-opacity%3D%270.20%27%20stroke-width%3D%271%27%20stroke-linejoin%3D%27round%27%3E%3Cpath%20d%3D%27M70%20170c-12-20%2022-32%2034-12c10-18%2044-6%2032%2014c-7%2012-20%2020-32%2030c-12-10-26-18-34-32z%27/%3E%3Cpath%20d%3D%27M120%20120c-9-15%2017-24%2026-9c8-14%2034-4%2025%2010c-6%209-15%2015-25%2024c-10-9-20-15-26-25z%27/%3E%3Cpath%20d%3D%27M160%2086c-7-12%2013-18%2019-7c6-11%2024-3%2018%208c-4%207-11%2011-18%2018c-7-7-14-11-19-19z%27/%3E%3Cpath%20d%3D%27M46%20184c10-18%2028-18%2038-2c-14%2010-26%2014-38%202z%27%20fill%3D%27%23bfe3c2%27%20fill-opacity%3D%270.45%27%20stroke%3D%27none%27/%3E%3Cpath%20d%3D%27M102%20142c10-16%2026-16%2034-1c-12%208-22%2012-34%201z%27%20fill%3D%27%23bfe3c2%27%20fill-opacity%3D%270.45%27%20stroke%3D%27none%27/%3E%3C/g%3E%3C/svg%3E") bottom -42px left -42px / 240px 240px no-repeat,
        url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20width%3D%27260%27%20height%3D%27260%27%20viewBox%3D%270%200%20260%20260%27%3E%3Cg%20fill%3D%27%23e9b7c4%27%20fill-opacity%3D%270.95%27%20stroke%3D%27%23b07a5a%27%20stroke-opacity%3D%270.20%27%20stroke-width%3D%271%27%20stroke-linejoin%3D%27round%27%3E%3Cpath%20d%3D%27M70%20170c-12-20%2022-32%2034-12c10-18%2044-6%2032%2014c-7%2012-20%2020-32%2030c-12-10-26-18-34-32z%27/%3E%3Cpath%20d%3D%27M120%20120c-9-15%2017-24%2026-9c8-14%2034-4%2025%2010c-6%209-15%2015-25%2024c-10-9-20-15-26-25z%27/%3E%3Cpath%20d%3D%27M160%2086c-7-12%2013-18%2019-7c6-11%2024-3%2018%208c-4%207-11%2011-18%2018c-7-7-14-11-19-19z%27/%3E%3Cpath%20d%3D%27M46%20184c10-18%2028-18%2038-2c-14%2010-26%2014-38%202z%27%20fill%3D%27%23bfe3c2%27%20fill-opacity%3D%270.45%27%20stroke%3D%27none%27/%3E%3Cpath%20d%3D%27M102%20142c10-16%2026-16%2034-1c-12%208-22%2012-34%201z%27%20fill%3D%27%23bfe3c2%27%20fill-opacity%3D%270.45%27%20stroke%3D%27none%27/%3E%3C/g%3E%3C/svg%3E") bottom -42px right -42px / 240px 240px no-repeat,
        linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.62));



      border: 1px solid rgba(167,122,31,.18);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      backdrop-filter: blur(10px);
      position:relative;
    }
    .shell:before{
      content:"";
      position:absolute; inset: 14px;
      border-radius: 22px;
      border: 1px solid rgba(167,122,31,.25);
      pointer-events:none;
    }
    .shell:after{
      content:"";
      position:absolute; inset: 22px;
      border-radius: 18px;
      border: 1px solid rgba(23,23,23,.06);
      pointer-events:none;
    }

    /* ========= PAGES (NO SCROLL) ========= */
    .deck{
      position:relative;
      min-height: 78vh;
      max-height: 86vh;
      isolation:isolate;
    }

    .page{
      position:absolute;
      inset:0;
      padding: 0;
      opacity:0;
      pointer-events:none;
      transform: translateY(22px) scale(.985);
      transition: opacity .45s var(--ease), transform .55s var(--ease);
    }
    .page.active{
      opacity:1;
      pointer-events:auto;
      transform: translateY(0) scale(1);
    }
    .page.enter-from-top{ transform: translateY(-18px) scale(.99); }

    /* subtle page fade overlay to feel like ‚Äúsheet‚Äù */
    .page .content{
      position:relative;
      z-index:1;
      padding: 22px 18px 34px;
    }

    /* ========= HERO ========= */
    .hero{
      padding: 54px 16px 30px;
      text-align:center;
      position:relative;
      isolation:isolate;
    }
    .hero:before{
      content:"";
      position:absolute; inset:-40px -40px auto -40px;
      height: 260px;
      background: radial-gradient(520px 200px at 50% 45%, rgba(227,194,173,.30), transparent 65%);
      z-index:-1;
    }

    
    .kicker{
      display:inline-flex;
      align-items:center;
      gap: 12px;
      color: rgba(23,23,23,.55);
      letter-spacing: .22em;
      text-transform: uppercase;
      font-size: 12px;
    }
    .kicker .rule{
      width: 64px; height:1px;
      background: linear-gradient(90deg, transparent, rgba(167,122,31,.55), transparent);
    }
    .seal{
      margin: 18px auto 16px;
      width: 64px; height: 64px;
      border-radius: 999px;
      display:grid; place-items:center;
      background: linear-gradient(180deg, rgba(208,176,106,.16), rgba(167,122,31,.06));
      border: 1px solid rgba(167,122,31,.28);
      color: rgba(167,122,31,.95);
      font-size: 30px;
    }
    .intro{
      margin:0;
      color: var(--muted);
      font-size: 15px;
    }
    .names{
      margin: 14px 0 8px;
      font-family: "Allura", "Cormorant Garamond", Georgia, serif;
      font-weight: 400;
      letter-spacing: .2px;
      font-size: clamp(54px, 7.4vw, 86px);
      line-height: 0.5;
      background: linear-gradient(90deg, var(--gold1), var(--gold2), var(--gold1));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: 0 18px 40px rgba(176,122,90,.10);
    }
    .sub{
      margin: 8px auto 0;
      max-width: 720px;
      color: var(--muted);
      font-size: 15.5px;
      line-height: 1.7;
    }
    .divider{
      width: 280px; height:1px;
      margin: 18px auto 0;
      background: linear-gradient(90deg, transparent, rgba(167,122,31,.6), transparent);
    }

    /* Countdown */
    .countdown{
      display:flex; justify-content:center;
      gap: 12px; flex-wrap:wrap;
      margin-top: 18px;
    }
    .cd{
      min-width: 108px;
      padding: 12px 14px;
      border-radius: 18px;
      background: rgba(255,255,255,.74);
      border: 1px solid rgba(23,23,23,.08);
      box-shadow: 0 10px 28px rgba(0,0,0,.06);
    }
    .cd .n{font-size: 22px; font-weight: 760; color: rgba(167,122,31,.95);}
    .cd .l{font-size: 11px; letter-spacing: .18em; text-transform: uppercase; color: rgba(23,23,23,.55); margin-top: 4px;}

    /* Buttons */
    .actions{
      display:flex; flex-wrap:wrap; gap:10px;
      margin: 22px auto 0;
      justify-content:center;
    }
    .btn{
      text-decoration:none;
      display:inline-flex; align-items:center; gap:10px;
      padding: 12px 15px;
      border-radius: 999px;
      border: 1px solid rgba(167,122,31,.22);
      background: rgba(208,176,106,.10);
      font-size: 14px;
      color: rgba(23,23,23,.90);
      transition: transform .15s ease, background .15s ease;
      cursor:pointer;
      user-select:none;
    }
    .btn:hover{ transform: translateY(-1px); background: rgba(208,176,106,.16); }
    .btn.primary{
      border:0;
      color:#fff;
      background: linear-gradient(180deg, rgba(167,122,31,.95), rgba(137,98,20,.95));
      box-shadow: 0 16px 36px rgba(167,122,31,.22);
    }

    /* PAGE 2 layout */
    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
      margin-top: 10px;
    }
    @media (min-width: 860px){
      .grid{ grid-template-columns: 1fr 1.25fr; }
    }
    .card{
      background: rgba(255,255,255,.78);
      border: 1px solid rgba(23,23,23,.08);
      border-radius: 22px;
      padding: 18px 18px 16px;
      box-shadow: 0 14px 36px rgba(0,0,0,.06);
    }
    .card h2{
      font-family: "Cormorant Garamond", Georgia, serif;
      font-weight: 650;
      font-size: 22px;
      margin: 0 0 12px;
      letter-spacing: .3px;
    }
    .detail{
      display:grid;
      grid-template-columns: 128px 1fr;
      gap: 12px;
      padding: 12px 0;
      border-bottom: 1px solid var(--line);
    }
    .detail:last-child{border-bottom:none}
    .label{color: rgba(23,23,23,.55); letter-spacing: .18em; text-transform: uppercase; font-size: 11px; padding-top:2px;}
    .value{font-size: 15px; line-height: 1.55; color: rgba(23,23,23,.92);}
    .hint{color: var(--muted2); font-size: 13.5px; margin-top: 4px}

    #map{
      width:100%;
      height: 420px;
      border-radius: 18px;
      overflow:hidden;
      border: 1px solid rgba(23,23,23,.08);
    }

    .verse{
      max-width: 820px;
      margin: 18px auto 0;
      color: rgba(23,23,23,.72);
      font-style: italic;
      line-height: 1.7;
      font-size: 14.5px;
      text-align:center;
    }
    .verse .ref{
      display:block;
      margin-top: 6px;
      letter-spacing: .16em;
      text-transform: uppercase;
      font-style: normal;
      font-size: 11px;
      color: rgba(23,23,23,.52);
    }

    /* ====== Premium nav (dots + arrows) ====== */
    .nav{
      position:absolute;
      left: 50%;
      transform: translateX(-50%);
      bottom: 14px;
      z-index: 50;
      display:flex;
      align-items:center;
      gap: 10px;
      padding: 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.72);
      border: 1px solid rgba(23,23,23,.08);
      backdrop-filter: blur(12px);
      box-shadow: 0 18px 60px rgba(0,0,0,.16);
    }
    .dots{display:flex; gap:10px; padding: 0 6px;}
    .dot{
      width: 10px; height: 10px;
      border-radius: 999px;
      background: rgba(23,23,23,.22);
      border: 1px solid rgba(167,122,31,.15);
      cursor:pointer;
    }
    .dot.active{
      background: linear-gradient(180deg, rgba(167,122,31,.95), rgba(137,98,20,.95));
      border: 0;
      box-shadow: 0 10px 20px rgba(167,122,31,.18);
    }

    /* small screens */
    @media (max-width: 420px){
      .detail{ grid-template-columns: 1fr; }
      #map{ height: 360px; }
    }

    /* Respect users who prefer reduced motion */
    @media (prefers-reduced-motion: reduce){
      .page{ transition:none; }
      .btn{ transition:none; }
    }
  </style>
</head>

<body>
  <div class="stage">
    <div class="wrap">
      <div class="shell">

        <div class="deck" id="deck">
          <!-- PAGE 1 -->
          <section class="page active" id="page1" aria-label="P√°gina 1">
            <div class="content">
              <header class="hero">
                <div class="kicker"><span class="rule"></span> BODAS DE PLATA ‚Äî 25 A√ëOS <span class="rule"></span></div>
                <div class="seal">‚úù</div>

                <p class="intro">Con gratitud a Dios y gran alegr√≠a,</p>
                <div class="names">Ra√∫l y Ana</div>

                <div class="divider"></div>
                <p class="sub">renuevan sus votos matrimoniales y celebran 25 a√±os de amor.</p>

                <div class="countdown" aria-label="Cuenta regresiva">
                  <div class="cd"><div class="n" id="d">‚Äî</div><div class="l">D√≠as</div></div>
                  <div class="cd"><div class="n" id="h">‚Äî</div><div class="l">Horas</div></div>
                  <div class="cd"><div class="n" id="m">‚Äî</div><div class="l">Min</div></div>
                </div>

                <div class="actions">
                  <button class="btn primary" id="toDetails">Ver detalles</button>
                  <a class="btn" id="waBtn0" href="#" target="_blank" rel="noopener">Confirmar por WhatsApp</a>
                </div>

                <p class="verse" style="margin-top:22px">
                  ‚ÄúLo que Dios uni√≥, no lo separe el hombre.‚Äù
                  <span class="ref">Mateo 19:6</span>
                </p>
              </header>
            </div>
          </section>

          <!-- PAGE 2 -->
          <section class="page" id="page2" aria-label="P√°gina 2">
            <div class="content">
              <div class="grid">
                <article class="card">
                  <h2>Detalles del evento</h2>

                  <div class="detail">
                    <div class="label">Fecha</div>
                    <div class="value"><strong id="dateText">S√°bado, 7 de marzo de 2026</strong></div>
                  </div>

                  <div class="detail">
                    <div class="label">Hora</div>
                    <div class="value" id="timeText">12:00 p. m.</div>
                  </div>

                  <div class="detail">
                    <div class="label">Lugar</div>
                    <div class="value">
                      <strong id="placeName">La Quinta de Maury</strong>
                      <div class="hint">Ceremonia cristiana y celebraci√≥n en el mismo lugar.</div>
                      <div class="hint" id="placeAddr">Pedro Vicente Maldonado, Ecuador</div>
                    </div>
                  </div>

                  <div class="detail">
                    <div class="label">Confirmaci√≥n</div>
                    <div class="value">
                      <strong id="rsvpPhone">0999865297</strong>
                      <span class="hint">(WhatsApp)</span>
                    </div>
                  </div>

                  <div class="actions" style="justify-content:flex-start; margin-top:14px;">
                    <a class="btn primary" id="gmapsBtn" href="#" target="_blank" rel="noopener">üß≠ C√≥mo llegar</a>
                    <a class="btn" id="waBtn" href="#" target="_blank" rel="noopener">‚úÖ Confirmar</a>
                    <a class="btn" id="calBtn" href="#" target="_blank" rel="noopener">üìÖ Agendar</a>
                    <button class="btn" id="backCover">‚¨Ö Volver</button>
                  </div>

                  <p class="hint" style="margin:14px 0 0">
                    Recomendado: confirma con tu nombre y cu√°ntas personas asistir√°n.
                  </p>
                </article>

                <article class="card">
                  <h2>Ubicaci√≥n</h2>
                  <div id="map"></div>
                  <p class="hint" style="margin-top:10px">
                    Toca el marcador. ‚ÄúC√≥mo llegar‚Äù abre en Google Maps.
                  </p>
                </article>
              </div>

              <p class="verse">
                ‚ÄúLo que Dios uni√≥, no lo separe el hombre.‚Äù
                <span class="ref">Mateo 19:6</span>
              </p>
            </div>
          </section>

          <!-- Premium navigation bar (dots + next/prev) -->
          <div class="nav" aria-label="Navegaci√≥n">
            <button class="btn" id="prev" aria-label="Anterior">‚Üê</button>
            <div class="dots" aria-label="P√°ginas">
              <div class="dot active" data-i="0" title="Portada"></div>
              <div class="dot" data-i="1" title="Detalles"></div>
            </div>
            <button class="btn" id="next" aria-label="Siguiente">‚Üí</button>
          </div>
        </div>

      </div>
    </div>
  </div>

  <script>
    // ===================== CONFIG (EDITA AQU√ç) =====================
    const LAT = -0.1037661;
    const LON = -78.3124284;

    const PLACE_NAME = "La Quinta de Maury";
    const PLACE_ADDR = "Pedro Vicente Maldonado, Ecuador";

    const RSVP_DISPLAY = "0999865297";
    const WHATSAPP_NUM = "593999865297"; // sin +

    const EVENT_LOCAL_ISO = "2026-03-07T12:00:00-05:00";
    const DATE_TEXT = "S√°bado, 7 de marzo de 2026";
    const TIME_TEXT = "12:00 p. m.";
    // ===============================================================

    // Fill text
    document.getElementById("placeName").textContent = PLACE_NAME;
    document.getElementById("placeAddr").textContent = PLACE_ADDR;
    document.getElementById("rsvpPhone").textContent = RSVP_DISPLAY;
    document.getElementById("dateText").textContent = DATE_TEXT;
    document.getElementById("timeText").textContent = TIME_TEXT;

    // Links
    const gmapsUrl = `https://www.google.com/maps?q=${LAT},${LON}`;
    const msg = encodeURIComponent("Hola, confirmo mi asistencia el 7 de marzo de 2026. Nombre: ____  | Asistimos: __ personas.");
    const waUrl = `https://wa.me/${WHATSAPP_NUM}?text=${msg}`;

    document.getElementById("gmapsBtn").href = gmapsUrl;
    document.getElementById("waBtn").href = waUrl;
    document.getElementById("waBtn0").href = waUrl;

    // Google Calendar (2 horas)
    const calText = encodeURIComponent("Renovaci√≥n de votos - Ra√∫l y Ana");
    const calDetails = encodeURIComponent("Ceremonia cristiana y celebraci√≥n de 25 a√±os de matrimonio.");
    const calLocation = encodeURIComponent(`${PLACE_NAME} - ${PLACE_ADDR}`);
    const calStart = "20260307T170000Z"; // 12:00 UTC-5
    const calEnd   = "20260307T190000Z";
    document.getElementById("calBtn").href =
      `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${calText}&dates=${calStart}/${calEnd}&details=${calDetails}&location=${calLocation}`;

    // Countdown
    const eventTime = new Date(EVENT_LOCAL_ISO).getTime();
    function tick(){
      const diff = eventTime - Date.now();
      if(diff <= 0){
        document.getElementById("d").textContent = "0";
        document.getElementById("h").textContent = "0";
        document.getElementById("m").textContent = "0";
        return;
      }
      const totalMin = Math.floor(diff / 60000);
      const days = Math.floor(totalMin / (60*24));
      const hours = Math.floor((totalMin - days*60*24) / 60);
      const mins = totalMin % 60;

      document.getElementById("d").textContent = String(days);
      document.getElementById("h").textContent = String(hours);
      document.getElementById("m").textContent = String(mins);
    }
    tick();
    setInterval(tick, 15000);

    // Pages (premium transitions)
    const pages = [document.getElementById("page1"), document.getElementById("page2")];
    const dots = Array.from(document.querySelectorAll(".dot"));
    let idx = 0;

    function setActive(i, direction){
      if(i < 0 || i >= pages.length || i === idx) return;

      pages[idx].classList.remove("active");
      pages[idx].classList.remove("enter-from-top");

      idx = i;
      // direction: +1 next, -1 prev (for subtle feel)
      if(direction < 0) pages[idx].classList.add("enter-from-top");
      else pages[idx].classList.remove("enter-from-top");

      pages[idx].classList.add("active");
      dots.forEach(d => d.classList.remove("active"));
      dots[idx].classList.add("active");

      // map needs invalidate when page2 becomes active
      if(idx === 1 && window.__map){
        setTimeout(()=> window.__map.invalidateSize(), 220);
      }
    }

    document.getElementById("toDetails").addEventListener("click", ()=> setActive(1, +1));
    document.getElementById("backCover").addEventListener("click", ()=> setActive(0, -1));
    document.getElementById("next").addEventListener("click", ()=> setActive(Math.min(idx+1, pages.length-1), +1));
    document.getElementById("prev").addEventListener("click", ()=> setActive(Math.max(idx-1, 0), -1));

    dots.forEach(d => d.addEventListener("click", ()=> setActive(Number(d.dataset.i), Number(d.dataset.i) > idx ? +1 : -1)));

    // Keyboard + wheel (feels like pages, not scroll)
    let lock = false;
    function go(delta){
      if(lock) return;
      lock = true;
      setActive(Math.max(0, Math.min(idx + delta, pages.length - 1)), delta);
      setTimeout(()=> lock = false, 520);
    }

    window.addEventListener("keydown", (e)=>{
      if(e.key === "ArrowDown" || e.key === "PageDown") go(+1);
      if(e.key === "ArrowUp" || e.key === "PageUp") go(-1);
    });

    // Wheel: convert to page flip (premium feel)
    window.addEventListener("wheel", (e)=>{
      if(Math.abs(e.deltaY) < 12) return;
      if(e.deltaY > 0) go(+1);
      else go(-1);
    }, { passive:true });

    // Touch: swipe up/down for pages
    let startY = null;
    window.addEventListener("touchstart", (e)=>{ startY = e.touches?.[0]?.clientY ?? null; }, {passive:true});
    window.addEventListener("touchend", (e)=>{
      if(startY === null) return;
      const endY = e.changedTouches?.[0]?.clientY ?? startY;
      const dy = endY - startY;
      startY = null;
      if(Math.abs(dy) < 40) return;
      if(dy < 0) go(+1); else go(-1);
    }, {passive:true});

    // Map init
    const map = L.map('map', { scrollWheelZoom: false }).setView([LAT, LON], 16);
    window.__map = map;
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '&copy; OpenStreetMap'
    }).addTo(map);
    const marker = L.marker([LAT, LON]).addTo(map);
    marker.bindPopup(`<b>${PLACE_NAME}</b><br>${PLACE_ADDR}`).openPopup();
  </script>
</body>
</html>

